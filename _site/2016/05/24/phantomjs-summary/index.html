<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="死生切阔，与子成说，执子之手，与子偕老。| 这里是 Xiaoh 的个人博客 | 外接各种互联网项目">
    <meta name="keyword"  content="兴明, xiaoh, pmars, itpmars, topmars, xiaoh's Blog, 博客, 个人网站, 互联网, 开发, 产品, 后端技术，架构">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Python爬虫之PhantomJS用法总结 - Xiaoh写文字的地方 | Xiaoh's Blog</title>

    <link rel="canonical" href="http://www.xiaoh.me/2016/05/24/phantomjs-summary/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="http://cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Xiaoh's Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-default.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-default.jpg')
    }

    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#Spider" title="Spider">Spider</a>
                        
                        <a class="tag" href="/tags/#Python" title="Python">Python</a>
                        
                        <a class="tag" href="/tags/#PhantomJS" title="PhantomJS">PhantomJS</a>
                        
                    </div>
                    <h1>Python爬虫之PhantomJS用法总结</h1>
                    
                    
                    <h2 class="subheading">文本浏览器PhantomJS的使用方法</h2>
                    
                    <span class="meta">Posted by xiaoh on May 24, 2016</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<h3 id="section">目录</h3>

<ol>
  <li><a href="#install">安装</a></li>
  <li><a href="#quickstart">快速开始</a></li>
  <li><a href="#screen">屏幕捕获</a></li>
  <li><a href="#network">网络监听</a></li>
  <li><a href="#auto">页面自动化处理</a></li>
  <li><a href="#webpagewebpage">Webpage对象</a></li>
  <li><a href="#commandline">命令行</a></li>
  <li><a href="#examples">实例</a></li>
  <li><a href="#document">文档</a></li>
</ol>

<hr />

<blockquote>
  <p>大家有没有发现之前我们写的爬虫都有一个共性，就是只能爬取单纯的html代码，如果页面是JS渲染的该怎么办呢？如果我们单纯去分析一个个后台的请求，手动去摸索JS渲染的到的一些结果，那简直没天理了。所以，我们需要有一些好用的工具来帮助我们像浏览器一样渲染JS处理的页面。其中有一个比较常用的工具，那就是 <a href="#http://phantomjs.org/">PhantomJS</a></p>
</blockquote>

<blockquote>
  <p>Full web stack No browser required</p>
</blockquote>

<blockquote>
  <p>PhantomJS is a headless WebKit scriptable with a JavaScript API. It has fast andnative support for various web standards: DOM handling, CSS selector, JSON, Canvas, and SVG.</p>
</blockquote>

<blockquote>
  <p>PhantomJS是一个无界面的,可脚本编程的WebKit浏览器引擎。它原生支持多种web 标准：DOM 操作，CSS选择器，JSON，Canvas 以及SVG。</p>
</blockquote>

<hr />

<h3 id="install"><a href="#install">安装</a></h3>

<p>PhantomJS安装方法有两种，一种是下载源码之后自己来编译，另一种是直接下载编译好的二进制文件。然而自己编译需要的时间太长，而且需要挺多的磁盘空间。官方推荐直接下载二进制文件然后安装。</p>

<p>大家可以依照自己的开发平台选择不同的包进行下载 <a href="http://phantomjs.org/download.html">http://phantomjs.org/download.html</a></p>

<p>当然如果你不嫌麻烦，可以选择 <a href="http://phantomjs.org/build.html">http://phantomjs.org/build.html</a></p>

<p>安装完成之后命令行输入 <code class="highlighter-rouge">phantomjs -v</code></p>

<p>如果正常显示版本号，那么证明安装成功了。如果提示错误，那么请重新安装。</p>

<p>本文介绍大部分内容来自于官方文档，博主对其进行了整理，学习更多请参考 <a href="http://phantomjs.org/quick-start.html">http://phantomjs.org/quick-start.html</a></p>

<hr />

<h3 id="quickstart"><a href="#quickstart">快速开始</a></h3>

<h5 id="section-1">第一个程序</h5>

<p>第一个程序当然是Hello World，新建一个 js 文件。命名为 helloworld.js</p>

<div class="highlighter-rouge"><pre class="highlight"><code>console.log('Hello, world!');
phantom.exit();
</code></pre>
</div>

<p>命令行输入</p>

<div class="highlighter-rouge"><pre class="highlight"><code>phantomjs helloworld.js
</code></pre>
</div>

<p>程序输出了 Hello，world！程序第二句话终止了 phantom 的执行。</p>

<blockquote>
  <p><strong>phantom.exit();</strong> 这句话非常重要，否则程序将永远不会终止。</p>
</blockquote>

<h5 id="section-2">页面加载</h5>

<p>可以利用 phantom 来实现页面的加载，下面的例子实现了页面的加载并将页面保存为一张图片。</p>

<pre><code class="language-Python">var page = require('webpage').create();
page.viewportSize = {width:1920,height:1080}
page.open('http://www.xiaoh.me/about/', function (status) {
    console.log("Status: " + status);
    if (status === "success") {
        page.render('about-page.png');
    }
    phantom.exit();
});
</code></pre>

<p>首先创建了一个webpage对象，然后加载本站点主页，判断响应状态，如果成功，那么保存截图为 example.png</p>

<p>以上代码命名为 pageload.js，命令行</p>

<div class="highlighter-rouge"><pre class="highlight"><code>phantomjs pageload.js
</code></pre>
</div>

<p>发现执行成功，然后目录下多了一张图片，about-page.png</p>

<p><img src="http://www.xiaoh.me/img/about-page.png" alt="" /></p>

<p>pntom 经常会用到网页截图的功能。hantomjs pageload.js</p>

<h5 id="section-3">测试页面加载速度</h5>

<p>下面这个例子计算了一个页面的加载速度，同时还用到了命令行传参的特性。新建文件保存为 loadspeed.js</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">page</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'webpage'</span><span class="p">).</span><span class="nx">create</span><span class="p">(),</span>
  <span class="nx">system</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'system'</span><span class="p">),</span>
  <span class="nx">t</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nx">system</span><span class="p">.</span><span class="nx">args</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Usage: loadspeed.js &lt;some URL&gt;'</span><span class="p">);</span>
  <span class="nx">phantom</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
<span class="p">}</span>
 
<span class="nx">t</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
<span class="nx">address</span> <span class="o">=</span> <span class="nx">system</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="nx">page</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">address</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">status</span> <span class="o">!==</span> <span class="s1">'success'</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'FAIL to load the address'</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">t</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">t</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Loading '</span> <span class="o">+</span> <span class="nx">system</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Loading time '</span> <span class="o">+</span> <span class="nx">t</span> <span class="o">+</span> <span class="s1">' msec'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">phantom</span><span class="p">.</span><span class="nx">exit</span><span class="p">();</span>
<span class="p">});</span>
</code></pre>
</div>

<p>程序判断了参数的多少，如果参数不够，那么终止运行。然后记录了打开页面的时间，请求页面之后，再纪录当前时间，二者之差就是页面加载速度。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>phantomjs loadspeed.js http://www.xiaoh.me
</code></pre>
</div>

<p>运行结果</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Loading http://www.xiaoh.me
Loading time 3628 msec
</code></pre>
</div>

<p>这个时间包括JS渲染的时间，当然和网速也有关。</p>

<h6 id="section-4">代码评估</h6>

<blockquote>
  <p>To evaluate JavaScript code in the context of the web page, use evaluate() function. The execution is “sandboxed”, there is no way for the code to access any JavaScript objects and variables outside its own page context. An object can be returned from evaluate(), however it is limited to simple objects and can’t contain functions or closures.</p>
</blockquote>

<p>利用 evaluate 方法我们可以获取网页的源代码。这个执行是“沙盒式”的，它不会去执行网页外的 JavaScript 代码。evalute 方法可以返回一个对象，然而返回值仅限于对象，不能包含函数（或闭包）</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var url = 'http://www.baidu.com';
var page = require('webpage').create();
page.open(url, function(status) {
  var title = page.evaluate(function() {
    return document.title;
  });
  console.log('Page title is ' + title);
  phantom.exit();
});
</code></pre>
</div>

<p>以上代码获取了百度的网站标题。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Page title is 百度一下，你就知道
</code></pre>
</div>

<p>任何来自于网页并且包括来自 evaluate() 内部代码的控制台信息，默认不会显示。</p>

<p>需要重写这个行为，使用 onConsoleMessage 回调函数，示例可以改写成</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var url = 'http://www.baidu.com';
var page = require('webpage').create();
page.onConsoleMessage = function (msg) {
    console.log(msg);
};
page.open(url, function (status) {
    page.evaluate(function () {
        console.log(document.title);
    });
    phantom.exit();
});
</code></pre>
</div>

<p>这样的话，如果你用浏览器打开百度首页，打开调试工具的console，可以看到控制台输出信息。</p>

<p>重写了 onConsoleMessage 方法之后，可以发现控制台输出的结果和我们需要输出的标题都打印出来了。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>一张网页，要经历怎样的过程，才能抵达用户面前？
一位新人，要经历怎样的成长，才能站在技术之巅？
探寻这里的秘密；
体验这里的挑战；
成为这里的主人；
加入百度，加入网页搜索，你，可以影响世界。
 
请将简历发送至 %c ps_recruiter@baidu.com（ 邮件标题请以“姓名-应聘XX职位-来自console”命名） color:red
职位介绍：http://dwz.cn/hr2013
百度一下，你就知道
</code></pre>
</div>

<hr />

<h3 id="screen"><a href="#screen">屏幕捕获</a></h3>

<blockquote>
  <p>Since PhantomJS is using WebKit, a real layout and rendering engine, it can capture a web page as a screenshot. Because PhantomJS can render anything on the web page, it can be used to convert contents not only in HTML and CSS, but also SVG and Canvas.</p>
</blockquote>

<p>因为 PhantomJS 使用了 WebKit内核，是一个真正的布局和渲染引擎，它可以像屏幕截图一样捕获一个web界面。因为它可以渲染网页中的人和元素，所以它不仅用到HTML，CSS的内容转化，还用在SVG，Canvas。可见其功能是相当强大的。</p>

<p>下面的例子就捕获了github网页的截图。上文有类似内容，不再演示。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var page = require('webpage').create();
page.open('http://github.com/', function() {
  page.render('github.png');
  phantom.exit();
});
</code></pre>
</div>

<p>除了 png 格式的转换，PhantomJS还支持 jpg，gif，pdf等格式。<a href="https://github.com/ariya/phantomjs/blob/master/examples/rasterize.js">https://github.com/ariya/phantomjs/blob/master/examples/rasterize.js</a></p>

<p>其中最重要的方法便是 viewportSize 和 clipRect 属性。</p>

<p>viewportSize 是视区的大小，你可以理解为你打开了一个浏览器，然后把浏览器窗口拖到了多大。</p>

<p>clipRect 是裁切矩形的大小，需要四个参数，前两个是基准点，后两个参数是宽高。</p>

<p>通过下面的小例子感受一下。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var page = require('webpage').create();
//viewportSize being the actual size of the headless browser
page.viewportSize = { width: 1024, height: 768 };
//the clipRect is the portion of the page you are taking a screenshot of
page.clipRect = { top: 0, left: 0, width: 1024, height: 768 };
//the rest of the code is the same as the previous example
page.open('http://www.xiaoh.me/about/', function() {
  page.render('about-page.png');
  phantom.exit();
});
</code></pre>
</div>

<p>运行结果</p>

<p><img src="http://www.xiaoh.me/img/about-page.png" alt="" /></p>

<p>就相当于把浏览器窗口拖到了 1024×768 大小，然后从左上角裁切出了 1024×768 的页面。</p>

<hr />

<h3 id="network"><a href="#network">网络监听</a></h3>

<blockquote>
  <p>Because PhantomJS permits the inspection of network traffic, it is suitable to build various analysis on the network behavior and performance.</p>
</blockquote>

<p>因为 PhantomJS 有网络通信的检查功能，它也很适合用来做网络行为的分析。</p>

<blockquote>
  <p>When a page requests a resource from a remote server, both the request and the response can be tracked via onResourceRequested and onResourceReceived callback.</p>
</blockquote>

<p>当接受到请求时，可以通过改写onResourceRequested和onResourceReceived回调函数来实现接收到资源请求和资源接受完毕的监听。例如</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var url = 'http://www.xiaoh.me';
var page = require('webpage').create();
page.onResourceRequested = function(request) {
  console.log('Request ' + JSON.stringify(request, undefined, 4));
};
page.onResourceReceived = function(response) {
  console.log('Receive ' + JSON.stringify(response, undefined, 4));
};
page.open(url);
</code></pre>
</div>

<p>运行结果会打印出所有资源的请求和接收状态，以JSON格式输出。</p>

<hr />

<h3 id="auto"><a href="#auto">页面自动化处理</a></h3>

<blockquote>
  <p>Because PhantomJS can load and manipulate a web page, it is perfect to carry out various page automations.</p>
</blockquote>

<p>因为 PhantomJS 可以加载和操作一个web页面，所以用来自动化处理也是非常适合的。</p>

<h5 id="dom">DOM操作</h5>

<blockquote>
  <p>Since the script is executed as if it is running on a web browser, standard DOM scripting and CSS selectors work just fine.</p>
</blockquote>

<p>脚本都是像在浏览器中运行的，所以标准的 JavaScript 的 DOM 操作和 CSS 选择器也是生效的。</p>

<p>例如下面的例子就修改了 User-Agent，然后还返回了页面中某元素的内容。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var page = require('webpage').create();
console.log('The default user agent is ' + page.settings.userAgent);
page.settings.userAgent = 'SpecialAgent';
page.open('http://www.httpuseragent.org', function(status) {
  if (status !== 'success') {
    console.log('Unable to access network');
  } else {
    var ua = page.evaluate(function() {
      return document.getElementById('myagent').textContent;
    });
    console.log(ua);
  }
  phantom.exit();
});
</code></pre>
</div>

<p>运行结果</p>

<div class="highlighter-rouge"><pre class="highlight"><code>The default user agent is Mozilla/5.0 (Macintosh; Intel Mac OS X) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.0 Safari/538.1
Your Http User Agent string is: SpecialAgent
</code></pre>
</div>

<p>首先打印出了默认的 User-Agent，然后通过修改它，请求验证 User-Agent 的一个站点，通过选择器得到了修改后的 User-Agent。</p>

<h5 id="section-5">使用附加库</h5>

<p>在1.6版本之后允许添加外部的JS库，比如下面的例子添加了jQuery，然后执行了jQuery代码。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var page = require('webpage').create();
page.open('http://www.sample.com', function() {
  page.includeJs("http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js", function() {
    page.evaluate(function() {
      $("button").click();
    });
    phantom.exit()
  });
});
</code></pre>
</div>

<p>引用了 jQuery 之后，我们便可以在下面写一些 jQuery 代码了。</p>

<hr />

<h3 id="webpagewebpage"><a href="#webpage">Webpage对象</a></h3>

<p>在前面我们介绍了 webpage 对象的几个方法和属性，其实它本身还有其它很多的属性。具体的内容可以参考</p>

<ul>
  <li><a href="http://phantomjs.org/page-automation.html">http://phantomjs.org/page-automation.html</a></li>
  <li><a href="https://github.com/ariya/phantomjs/blob/master/examples/page_events.js">https://github.com/ariya/phantomjs/blob/master/examples/page_events.js</a></li>
</ul>

<p>里面介绍了 webpage的所有属性，方法，回调。</p>

<hr />

<h3 id="commandline"><a href="#commandline">命令行</a></h3>

<p>Command-line Options</p>

<p>PhantomJS提供的命令行选项有：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="err">–</span><span class="nx">help</span> <span class="nx">or</span> <span class="o">-</span><span class="nx">h</span> <span class="nx">lists</span> <span class="nx">all</span> <span class="nx">possible</span> <span class="nx">command</span><span class="o">-</span><span class="nx">line</span> <span class="nx">options</span><span class="p">.</span> <span class="nx">Halts</span> <span class="nx">immediately</span><span class="p">,</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">run</span> <span class="nx">a</span> <span class="nx">script</span> <span class="nx">passed</span> <span class="nx">as</span> <span class="nx">argument</span><span class="p">.</span> <span class="err">［帮助列表］</span>

<span class="err">–</span><span class="nx">version</span> <span class="nx">or</span> <span class="o">-</span><span class="nx">v</span> <span class="nx">prints</span> <span class="nx">out</span> <span class="nx">the</span> <span class="nx">version</span> <span class="nx">of</span> <span class="nx">PhantomJS</span><span class="p">.</span> <span class="nx">Halts</span> <span class="nx">immediately</span><span class="p">,</span> <span class="nx">will</span> <span class="nx">not</span> <span class="nx">run</span> <span class="nx">a</span> <span class="nx">script</span> <span class="nx">passed</span> <span class="nx">as</span> <span class="nx">argument</span><span class="p">.</span> <span class="err">［查看版本］</span>

<span class="err">–</span><span class="nx">cookies</span><span class="o">-</span><span class="nx">file</span><span class="o">=</span><span class="sr">/path/</span><span class="nx">to</span><span class="o">/</span><span class="nx">cookies</span><span class="p">.</span><span class="nx">txt</span> <span class="nx">specifies</span> <span class="nx">the</span> <span class="nx">file</span> <span class="nx">name</span> <span class="nx">to</span> <span class="nx">store</span> <span class="nx">the</span> <span class="nx">persistent</span> <span class="nx">Cookies</span><span class="p">.</span> <span class="err">［指定存放</span><span class="nx">cookies</span><span class="err">的路径］</span>

<span class="err">–</span><span class="nx">disk</span><span class="o">-</span><span class="nx">cache</span><span class="o">=</span><span class="p">[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="p">]</span> <span class="nx">enables</span> <span class="nx">disk</span> <span class="nx">cache</span> <span class="p">(</span><span class="nx">at</span> <span class="nx">desktop</span> <span class="nx">services</span> <span class="nx">cache</span> <span class="nx">storage</span> <span class="nx">location</span><span class="p">,</span> <span class="k">default</span> <span class="nx">is</span> <span class="kc">false</span><span class="p">).</span> <span class="nx">Also</span> <span class="nx">accepted</span><span class="err">:</span> <span class="p">[</span><span class="nx">yes</span><span class="o">|</span><span class="nx">no</span><span class="p">].</span> <span class="err">［硬盘缓存开关，默认为关］</span>

<span class="err">–</span><span class="nx">ignore</span><span class="o">-</span><span class="nx">ssl</span><span class="o">-</span><span class="nx">errors</span><span class="o">=</span><span class="p">[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="p">]</span> <span class="nx">ignores</span> <span class="nx">SSL</span> <span class="nx">errors</span><span class="p">,</span> <span class="nx">such</span> <span class="nx">as</span> <span class="nx">expired</span> <span class="nx">or</span> <span class="nx">self</span><span class="o">-</span><span class="nx">signed</span> <span class="nx">certificate</span> <span class="nx">errors</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="kc">false</span><span class="p">).</span> <span class="nx">Also</span> <span class="nx">accepted</span><span class="err">:</span> <span class="p">[</span><span class="nx">yes</span><span class="o">|</span><span class="nx">no</span><span class="p">].</span> <span class="err">［忽略</span><span class="nx">ssl</span><span class="err">错误，默认不忽略］</span>

<span class="err">–</span><span class="nx">load</span><span class="o">-</span><span class="nx">images</span><span class="o">=</span><span class="p">[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="p">]</span> <span class="nx">load</span> <span class="nx">all</span> <span class="nx">inlined</span> <span class="nx">images</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="kc">true</span><span class="p">).</span> <span class="nx">Also</span> <span class="nx">accepted</span><span class="err">:</span> <span class="p">[</span><span class="nx">yes</span><span class="o">|</span><span class="nx">no</span><span class="p">].</span> <span class="err">［加载图片，默认为加载］</span>

<span class="err">–</span><span class="nx">local</span><span class="o">-</span><span class="nx">storage</span><span class="o">-</span><span class="nx">path</span><span class="o">=</span><span class="sr">/some/</span><span class="nx">path</span> <span class="nx">path</span> <span class="nx">to</span> <span class="nx">save</span> <span class="nx">LocalStorage</span> <span class="nx">content</span> <span class="nx">and</span> <span class="nx">WebSQL</span> <span class="nx">content</span><span class="p">.</span> <span class="err">［本地存储路径，如本地文件和</span><span class="nx">SQL</span><span class="err">文件等］</span>

<span class="err">–</span><span class="nx">local</span><span class="o">-</span><span class="nx">storage</span><span class="o">-</span><span class="nx">quota</span><span class="o">=</span><span class="nx">number</span> <span class="nx">maximum</span> <span class="nx">size</span> <span class="nx">to</span> <span class="nx">allow</span> <span class="k">for</span> <span class="nx">data</span><span class="p">.</span> <span class="err">［本地文件最大大小］</span>

<span class="err">–</span><span class="nx">local</span><span class="o">-</span><span class="nx">to</span><span class="o">-</span><span class="nx">remote</span><span class="o">-</span><span class="nx">url</span><span class="o">-</span><span class="nx">access</span><span class="o">=</span><span class="p">[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="p">]</span> <span class="nx">allows</span> <span class="nx">local</span> <span class="nx">content</span> <span class="nx">to</span> <span class="nx">access</span> <span class="nx">remote</span> <span class="nx">URL</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="kc">false</span><span class="p">).</span> <span class="nx">Also</span> <span class="nx">accepted</span><span class="err">:</span> <span class="p">[</span><span class="nx">yes</span><span class="o">|</span><span class="nx">no</span><span class="p">].</span> <span class="err">［是否允许远程加载文件，默认不允许］</span>

<span class="err">–</span><span class="nx">max</span><span class="o">-</span><span class="nx">disk</span><span class="o">-</span><span class="nx">cache</span><span class="o">-</span><span class="nx">size</span><span class="o">=</span><span class="nx">size</span> <span class="nx">limits</span> <span class="nx">the</span> <span class="nx">size</span> <span class="nx">of</span> <span class="nx">disk</span> <span class="nx">cache</span> <span class="p">(</span><span class="k">in</span> <span class="nx">KB</span><span class="p">).</span> <span class="err">［最大缓存空间］</span>

<span class="err">–</span><span class="nx">output</span><span class="o">-</span><span class="nx">encoding</span><span class="o">=</span><span class="nx">encoding</span> <span class="nx">sets</span> <span class="nx">the</span> <span class="nx">encoding</span> <span class="nx">used</span> <span class="k">for</span> <span class="nx">terminal</span> <span class="nx">output</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="nx">utf8</span><span class="p">).</span> <span class="err">［默认输出编码，默认</span><span class="nx">utf8</span><span class="err">］</span>

<span class="err">–</span><span class="nx">remote</span><span class="o">-</span><span class="kr">debugger</span><span class="o">-</span><span class="nx">port</span> <span class="nx">starts</span> <span class="nx">the</span> <span class="nx">script</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">debug</span> <span class="nx">harness</span> <span class="nx">and</span> <span class="nx">listens</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">specified</span> <span class="nx">port</span> <span class="err">［远程调试端口］</span>

<span class="err">–</span><span class="nx">remote</span><span class="o">-</span><span class="kr">debugger</span><span class="o">-</span><span class="nx">autorun</span> <span class="nx">runs</span> <span class="nx">the</span> <span class="nx">script</span> <span class="k">in</span> <span class="nx">the</span> <span class="kr">debugger</span> <span class="nx">immediately</span><span class="err">:</span> <span class="err">‘</span><span class="nx">yes</span><span class="err">’</span> <span class="nx">or</span> <span class="err">‘</span><span class="nx">no</span><span class="err">’</span> <span class="p">(</span><span class="k">default</span><span class="p">)</span> <span class="err">［在调试环境下是否立即执行脚本，默认否］</span>

<span class="err">–</span><span class="nx">proxy</span><span class="o">=</span><span class="nx">address</span><span class="err">:</span><span class="nx">port</span> <span class="nx">specifies</span> <span class="nx">the</span> <span class="nx">proxy</span> <span class="nx">server</span> <span class="nx">to</span> <span class="nx">use</span> <span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">g</span><span class="p">.</span> <span class="err">–</span><span class="nx">proxy</span><span class="o">=</span><span class="mf">192.168</span><span class="p">.</span><span class="mf">1.42</span><span class="err">:</span><span class="mi">8080</span><span class="p">).</span> <span class="err">［代理］</span>

<span class="err">–</span><span class="nx">proxy</span><span class="o">-</span><span class="nx">type</span><span class="o">=</span><span class="p">[</span><span class="nx">http</span><span class="o">|</span><span class="nx">socks5</span><span class="o">|</span><span class="nx">none</span><span class="p">]</span> <span class="nx">specifies</span> <span class="nx">the</span> <span class="nx">type</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">proxy</span> <span class="nx">server</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="nx">http</span><span class="p">).</span> <span class="err">［代理类型，默认</span><span class="nx">http</span><span class="err">］</span>

<span class="err">–</span><span class="nx">proxy</span><span class="o">-</span><span class="nx">auth</span> <span class="nx">specifies</span> <span class="nx">the</span> <span class="nx">authentication</span> <span class="nx">information</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">proxy</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">g</span><span class="p">.</span> <span class="err">–</span><span class="nx">proxy</span><span class="o">-</span><span class="nx">auth</span><span class="o">=</span><span class="nx">username</span><span class="err">:</span><span class="nx">password</span><span class="p">).</span> <span class="err">［代理认证］</span>

<span class="err">–</span><span class="nx">script</span><span class="o">-</span><span class="nx">encoding</span><span class="o">=</span><span class="nx">encoding</span> <span class="nx">sets</span> <span class="nx">the</span> <span class="nx">encoding</span> <span class="nx">used</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">starting</span> <span class="nx">script</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="nx">utf8</span><span class="p">).</span> <span class="err">［脚本编码，默认</span><span class="nx">utf8</span><span class="err">］</span>

<span class="err">–</span><span class="nx">ssl</span><span class="o">-</span><span class="nx">protocol</span><span class="o">=</span><span class="p">[</span><span class="nx">sslv3</span><span class="o">|</span><span class="nx">sslv2</span><span class="o">|</span><span class="nx">tlsv1</span><span class="o">|</span><span class="nx">any</span><span class="err">’</span><span class="p">]</span> <span class="nx">sets</span> <span class="nx">the</span> <span class="nx">SSL</span> <span class="nx">protocol</span> <span class="k">for</span> <span class="nx">secure</span> <span class="nx">connections</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="nx">SSLv3</span><span class="p">).</span> <span class="err">［</span><span class="nx">SSL</span><span class="err">协议，默认</span><span class="nx">SSLv3</span><span class="err">］</span>

<span class="err">–</span><span class="nx">ssl</span><span class="o">-</span><span class="nx">certificates</span><span class="o">-</span><span class="nx">path</span><span class="o">=&lt;</span><span class="nx">val</span><span class="o">&gt;</span> <span class="nx">Sets</span> <span class="nx">the</span> <span class="nx">location</span> <span class="k">for</span> <span class="nx">custom</span> <span class="nx">CA</span> <span class="nx">certificates</span> <span class="p">(</span><span class="k">if</span> <span class="nx">none</span> <span class="nx">set</span><span class="p">,</span> <span class="nx">uses</span> <span class="nx">system</span> <span class="k">default</span><span class="p">).</span> <span class="err">［</span><span class="nx">SSL</span><span class="err">证书路径，默认系统默认路径］</span>

<span class="err">–</span><span class="nx">web</span><span class="o">-</span><span class="nx">security</span><span class="o">=</span><span class="p">[</span><span class="kc">true</span><span class="o">|</span><span class="kc">false</span><span class="p">]</span> <span class="nx">enables</span> <span class="nx">web</span> <span class="nx">security</span> <span class="nx">and</span> <span class="nx">forbids</span> <span class="nx">cross</span><span class="o">-</span><span class="nx">domain</span> <span class="nx">XHR</span> <span class="p">(</span><span class="k">default</span> <span class="nx">is</span> <span class="kc">true</span><span class="p">).</span> <span class="nx">Also</span> <span class="nx">accepted</span><span class="err">:</span> <span class="p">[</span><span class="nx">yes</span><span class="o">|</span><span class="nx">no</span><span class="p">].</span> <span class="err">［是否开启安全保护和禁止异站</span><span class="nx">Ajax</span><span class="err">，默认开启保护］</span>

<span class="err">–</span><span class="nx">webdriver</span> <span class="nx">starts</span> <span class="k">in</span> <span class="err">‘</span><span class="nx">Remote</span> <span class="nx">WebDriver</span> <span class="nx">mode</span><span class="err">’</span> <span class="p">(</span><span class="nx">embedded</span> <span class="nx">GhostDriver</span><span class="p">)</span><span class="err">:</span> <span class="err">‘</span><span class="p">[[</span><span class="err">:</span><span class="p">]]</span><span class="err">’</span> <span class="p">(</span><span class="k">default</span> <span class="err">‘</span><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span><span class="err">:</span><span class="mi">8910</span><span class="err">′</span><span class="p">)</span> <span class="err">［以远程</span><span class="nx">WebDriver</span><span class="err">模式启动］</span>

<span class="err">–</span><span class="nx">webdriver</span><span class="o">-</span><span class="nx">selenium</span><span class="o">-</span><span class="nx">grid</span><span class="o">-</span><span class="nx">hub</span> <span class="nx">URL</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">Selenium</span> <span class="nx">Grid</span> <span class="nx">HUB</span><span class="err">:</span> <span class="err">‘</span><span class="nx">URLTOHUB</span><span class="err">’</span> <span class="p">(</span><span class="k">default</span> <span class="err">‘</span><span class="nx">none</span><span class="err">’</span><span class="p">)</span> <span class="p">(</span><span class="nx">NOTE</span><span class="err">:</span> <span class="nx">works</span> <span class="nx">only</span> <span class="nx">together</span> <span class="kd">with</span> <span class="err">‘–</span><span class="nx">webdriver</span><span class="err">’</span><span class="p">)</span> <span class="err">［</span><span class="nx">Selenium</span><span class="err">接口］</span>

<span class="err">–</span><span class="nx">config</span><span class="o">=</span><span class="sr">/path/</span><span class="nx">to</span><span class="o">/</span><span class="nx">config</span><span class="p">.</span><span class="nx">json</span> <span class="nx">can</span> <span class="nx">utilize</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nb">Object</span> <span class="nx">Notation</span> <span class="p">(</span><span class="nx">JSON</span><span class="p">)</span> <span class="nx">configuration</span> <span class="nx">file</span> <span class="nx">instead</span> <span class="nx">of</span> <span class="nx">passing</span> <span class="k">in</span> <span class="nx">multiple</span> <span class="nx">command</span><span class="o">-</span><span class="nx">line</span> <span class="nx">optionss</span> <span class="err">［所有的命令行配置从</span><span class="nx">config</span><span class="p">.</span><span class="nx">json</span><span class="err">中读取］</span>
</code></pre>
</div>

<p>注：JSON文件配置格式</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="cm">/* Same as: --ignore-ssl-errors=true */</span>
  <span class="s2">"ignoreSslErrors"</span><span class="err">:</span> <span class="kc">true</span><span class="p">,</span>
 
  <span class="cm">/* Same as: --max-disk-cache-size=1000 */</span>
  <span class="s2">"maxDiskCacheSize"</span><span class="err">:</span> <span class="mi">1000</span><span class="p">,</span>
 
  <span class="cm">/* Same as: --output-encoding=utf8 */</span>
  <span class="s2">"outputEncoding"</span><span class="err">:</span> <span class="s2">"utf8"</span>
 
  <span class="cm">/* etc. */</span>
<span class="p">}</span>
 
<span class="nx">There</span> <span class="nx">are</span> <span class="nx">some</span> <span class="nx">keys</span> <span class="nx">that</span> <span class="k">do</span> <span class="nx">not</span> <span class="nx">translate</span> <span class="nx">directly</span><span class="err">:</span>
 
 <span class="o">*</span> <span class="o">--</span><span class="nx">disk</span><span class="o">-</span><span class="nx">cache</span> <span class="o">=&gt;</span> <span class="nx">diskCacheEnabled</span>
 <span class="o">*</span> <span class="o">--</span><span class="nx">load</span><span class="o">-</span><span class="nx">images</span> <span class="o">=&gt;</span> <span class="nx">autoLoadImages</span>
 <span class="o">*</span> <span class="o">--</span><span class="nx">local</span><span class="o">-</span><span class="nx">storage</span><span class="o">-</span><span class="nx">path</span> <span class="o">=&gt;</span> <span class="nx">offlineStoragePath</span>
 <span class="o">*</span> <span class="o">--</span><span class="nx">local</span><span class="o">-</span><span class="nx">storage</span><span class="o">-</span><span class="nx">quota</span> <span class="o">=&gt;</span> <span class="nx">offlineStorageDefaultQuota</span>
 <span class="o">*</span> <span class="o">--</span><span class="nx">local</span><span class="o">-</span><span class="nx">to</span><span class="o">-</span><span class="nx">remote</span><span class="o">-</span><span class="nx">url</span><span class="o">-</span><span class="nx">access</span> <span class="o">=&gt;</span> <span class="nx">localToRemoteUrlAccessEnabled</span>
 <span class="o">*</span> <span class="o">--</span><span class="nx">web</span><span class="o">-</span><span class="nx">security</span> <span class="o">=&gt;</span> <span class="nx">webSecurityEnabled</span>
</code></pre>
</div>

<p>以上是命令行的基本配置</p>

<hr />

<h3 id="examples"><a href="#examples">实例</a></h3>

<p>在此提供官方文档实例，多对照实例练习，使用起来会更得心应手。</p>

<ul>
  <li><a href="http://phantomjs.org/examples/index.html">http://phantomjs.org/examples/index.html</a></li>
</ul>

<hr />

<h3 id="document"><a href="#document">文档</a></h3>

<ul>
  <li><a href="http://cuiqingcai.com/2577.html">http://cuiqingcai.com/2577.html</a></li>
</ul>

<hr />

<h3 id="end">END</h3>



                <hr>

                


                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2016/05/24/selenium-summary/" data-toggle="tooltip" data-placement="top" title="Python爬虫之selenium用法总结">
                        Previous<br>
                        <span>Python爬虫之selenium用法总结</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2016/05/31/sync-async/" data-toggle="tooltip" data-placement="top" title="同步，异步，阻塞和非阻塞的理解">
                        Next<br>
                        <span>同步，异步，阻塞和非阻塞的理解</span>
                        </a>
                    </li>
                    
                </ul>


                

                

            </div>

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#杂谈" title="杂谈" rel="4">
                                    杂谈
                                </a>
                            
        				
                            
                				<a href="/tags/#Python" title="Python" rel="17">
                                    Python
                                </a>
                            
        				
                            
                				<a href="/tags/#Ubuntu" title="Ubuntu" rel="3">
                                    Ubuntu
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Flask" title="Flask" rel="3">
                                    Flask
                                </a>
                            
        				
                            
                				<a href="/tags/#Redis" title="Redis" rel="3">
                                    Redis
                                </a>
                            
        				
                            
                				<a href="/tags/#数据库" title="数据库" rel="2">
                                    数据库
                                </a>
                            
        				
                            
        				
                            
                				<a href="/tags/#Supervisor" title="Supervisor" rel="2">
                                    Supervisor
                                </a>
                            
        				
                            
                				<a href="/tags/#服务器" title="服务器" rel="6">
                                    服务器
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Lua" title="Lua" rel="2">
                                    Lua
                                </a>
                            
        				
                            
                				<a href="/tags/#Requests" title="Requests" rel="2">
                                    Requests
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Django" title="Django" rel="2">
                                    Django
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#AWK" title="AWK" rel="2">
                                    AWK
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#HBase" title="HBase" rel="2">
                                    HBase
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Thrift" title="Thrift" rel="2">
                                    Thrift
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Spider" title="Spider" rel="4">
                                    Spider
                                </a>
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#Selenium" title="Selenium" rel="2">
                                    Selenium
                                </a>
                            
        				
                            
                				<a href="/tags/#PhantomJS" title="PhantomJS" rel="2">
                                    PhantomJS
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
                    
                        <li><a href="http://pmars.cnblogs.com">pmars的博客</a></li>
                    
                        <li><a href="http://weibo.com/topmars">pmars的微博</a></li>
                    
                        <li><a href="http://github.com/pmars">我的项目</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>








<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/xiaoh">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/topmars">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/pmars">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Xiaoh's Blog 2018
                    <br>
                    Theme © <a href="http://xiaoh.me">Xiaoh</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=pmars&repo=pmars.github.io&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
    <div class="actGotop" style="">
        <div class="plane"></div>
        <div class="back-info">返回顶部</div>
    </div>
    <script>
        (function() {
            $(window).scroll(function(){
                if($(window).scrollTop()>500){
                    $('.actGotop').fadeIn();
                }else{
                    $('.actGotop').fadeOut();
                }
            }) 
            $('.actGotop').click(function(){
                $(window).scrollTop(0);
            });
        })();
    </script>
</footer>

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- Highlight.js -->
<script>
    async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
        hljs.initHighlightingOnLoad();
    })
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>
<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">

<!--fastClick.js -->
<script>
    async("http://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        // var $nav = document.querySelector("nav");
        // if($nav) FastClick.attach($nav);

        // global FastClick!!
        FastClick.attach(document.body);    
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-73800419-1';
    var _gaDomain = 'www.xiaoh.me';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = 'eb09bda7042f7733bd1bcba14d69d750';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>




<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
